$schema: "http://json-schema.org/draft-07/schema#"
description: an entry in the sample sheet
properties:
  sample:
    type: string
    pattern: ^[^\s]*$
    description: sample name/identifier
  rglb:
    type: string
    pattern: ^[^\s]*$
    description: 
  rbpl:
    type: string
    pattern: ^[^\s]*$
    description: 
  rgpu:
    type: string
    pattern: ^[^\s]*$
    description: 
  rgsm:
    type: string
    pattern: ^[^\s]*$
    description: 
  reference:
    type: string
    pattern: ^[^\s]*\.fa(sta)?$
    description: reference fasta for this sample
  target_bed:
    type: string
    pattern: ^[^\s]*\.bed$
    description: 
  maskBed:
    type: string
    pattern: NONE|^[^\s]*\.bed$
    default: NONE
    description: A bed file to use for masking variants.  
  blast_db:
    type: string
    pattern: ^[^\s]*$
    description: 
  targetTaxonId: 
    type: integer
    description: 
  baseDir:
    type: string
    pattern: ^[^\s]*$
    description: 
  in1:
    type: string
    default: "seq1.fq"
    pattern: ^[^\s]*\.((fq)|(fastq))(\.gz)?$
    description: 
  in2:
    type: string
    default: "seq2.fq"
    pattern: ^[^\s]*\.((fq)|(fastq))(\.gz)?$
    description: 
  mqFilt:
    type: integer
    default: 0
    minimum: 0
    description: 
  minMem:
    type: integer
    default: 0
    minimum: 0
    description: 
  maxMem:
    type: integer
    default: 200
    minimum: 0
    description: 
  cutOff:
    type: number
    default: 0.9
    minimum: 0.5
    maximum: 1
    description: 
  nCutOff:
    type: number
    default: 1
    minimum: 0
    maximum: 1
    description: 
  umiLen:
    type: integer
    default: 8
    minimum: 0
    description: 
  spacerLen:
    type: integer
    default: 1
    minimum: 0
    description: 
  locLen:
    type: integer
    default: 10
    minimum: 0
    description: 
  readLen:
    type: integer
    default: 101
    minimum: 1
    description: 
  adapterSeq:
    type: string
    default: "ANNNNNNNNAGATCGGAAGAG"
    pattern: (^[^\s]*\.fasta$)|(^[ACTGRYSWKMBDHVN]*$)
    description: The adapter sequence used in library preperation, with UMI bases as Ns, and spacer sequence included.  Alternatively, a fasta file with all possible UMI-adapter conbinations.  
  clipBegin:
    type: integer
    default: 7
    minimum: 0
    description: 
  clipEnd:
    type: integer
    default: 0
    minimum: 0
    description: 
  minClonal:
    type: number
    default: 0
    minimum: 0
    maximum: 1
    description: 
  maxClonal:
    type: number
    default: 0.1
    minimum: 0
    maximum: 1
    description: 
  minDepth:
    type: integer
    default: 100
    minimum: 1
    description: 
  maxNs:
    type: number
    default: 1
    minimum: 0
    maximum: 1
    description: 
  recovery:
    type: string
    pattern: ^[^\s]*\.sh$
    default: "noRecovery.sh"
    description: 
  cm_outputs:
    type: string
    pattern: ^[GBN]*$
    default: "GB"
    description: Select which sections to output, in addition to 'OVERALL'.  String of one or more of 'G', 'B', and 'N'.  G -> output GENE sections for each bed line; B -> output 'BLOCK' sections for each block in the bed line (if present); 'N' -> Only output overall frequencies.  Overrides all other options.  
  cm_sumTypes:
    type: string
    pattern: ^[GB][TB]$
    default: "GT"
  cm_filters:
    type: string
    pattern: ^(.+)?(:.+)+$
    default: "near_indel:clustered"
    description: Select which filters to apply durring frequency calculation.  
  runSSCS:
    type: boolean
    default: false
    description: whether to run full processing for SSCS data.
  rerun_type:
    type: number
    default: 0
    minimum: 0
    maximum: 4
    description: What type of rerun you want to do.  0 -> no rerun;  1 -> rerun variant caller;  2 -> rerun postBlastRecovery; 3 -> rerun BLAST and alignment;  4 -> rerun consensus maker.  

required:
  - sample
  - rglb
  - rgpl
  - rgpu
  - rgsm
  - reference
  - target_bed
  - blast_db
  - targetTaxonId
